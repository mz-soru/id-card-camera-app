var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function a(){return t=" ",document.createTextNode(t);var t}function l(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let d;function p(t){d=t}function h(t){(function(){if(!d)throw new Error("Function called outside component initialization");return d})().$$.on_mount.push(t)}const $=[],g=[],m=[],v=[],y=Promise.resolve();let b=!1;function x(t){m.push(t)}const _=new Set;let w=0;function E(){const t=d;do{for(;w<$.length;){const t=$[w];w++,p(t),k(t.$$)}for(p(null),$.length=0,w=0;g.length;)g.pop()();for(let t=0;t<m.length;t+=1){const e=m[t];_.has(e)||(_.add(e),e())}m.length=0}while($.length);for(;v.length;)v.pop()();b=!1,_.clear(),p(t)}function k(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const j=new Set;function C(t,e){-1===t.$$.dirty[0]&&($.push(t),b||(b=!0,y.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(i,u,s,a,l,f,h,$=[-1]){const g=d;p(i);const m=i.$$={fragment:null,ctx:[],props:f,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(g?g.$$.context:[])),callbacks:n(),dirty:$,skip_bound:!1,root:u.target||g.$$.root};h&&h(m.root);let v=!1;if(m.ctx=s?s(i,u.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&l(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),v&&C(i,t)),e})):[],m.update(),v=!0,o(m.before_update),m.fragment=!!a&&a(m.ctx),u.target){if(u.hydrate){const t=function(t){return Array.from(t.childNodes)}(u.target);m.fragment&&m.fragment.l(t),t.forEach(c)}else m.fragment&&m.fragment.c();u.intro&&((y=i.$$.fragment)&&y.i&&(j.delete(y),y.i(b))),function(t,n,i,u){const{fragment:c,after_update:s}=t.$$;c&&c.m(n,i),u||x((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(x)}(i,u.target,u.anchor,u.customElement),E()}var y,b;p(g)}class A{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function N(e){let n,o,r,i,d,p,h,$,g,m,v,y;return{c(){n=s("main"),o=s("div"),r=s("video"),i=a(),d=s("div"),p=a(),h=s("div"),$=s("button"),$.textContent="Capture",g=a(),m=s("canvas"),r.autoplay=!0,r.playsInline=!0,l(r,"id","video"),l(r,"class","svelte-tj9uvf"),l(d,"id","videoEdge"),f(d,"width",e[4]+"px"),f(d,"height",e[3]+"px"),l(d,"class","svelte-tj9uvf"),f(o,"position","relative"),l($,"id","captureBtn"),l($,"class","svelte-tj9uvf"),l(m,"width",e[4]),l(m,"height",e[3]),l(h,"id","captureWrapper"),l(h,"class","svelte-tj9uvf"),f(n,"max-width","1000px")},m(t,c){var s,a,l,f;!function(t,e,n){t.insertBefore(e,n||null)}(t,n,c),u(n,o),u(o,r),e[6](r),u(o,i),u(o,d),e[7](d),u(n,p),u(n,h),u(h,$),u(h,g),u(h,m),e[8](m),v||(s=$,a="click",l=e[5],s.addEventListener(a,l,f),y=()=>s.removeEventListener(a,l,f),v=!0)},p(t,[e]){16&e&&f(d,"width",t[4]+"px"),8&e&&f(d,"height",t[3]+"px"),16&e&&l(m,"width",t[4]),8&e&&l(m,"height",t[3])},i:t,o:t,d(t){t&&c(n),e[6](null),e[7](null),e[8](null),v=!1,y()}}}function O(t,e,n){let o,r,i=null,u=null,c=null;return h((async()=>{await(async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});n(0,i.srcObject=t,i),i.play()}catch(t){alert("에러가 발생했습니다.")}})()})),t.$$.update=()=>{1&t.$$.dirty&&n(4,o=(null==i?void 0:i.offsetWidth)/1.5),1&t.$$.dirty&&n(3,r=(null==i?void 0:i.offsetWidth)/1.5*.625)},[i,u,c,r,o,()=>{const t=u.getContext("2d"),{left:e,top:n}=c.getBoundingClientRect();t.clearRect(0,0,i.offsetWidth,i.offsetHeight),t.drawImage(i,-e,-n,i.offsetWidth,i.offsetHeight)},function(t){g[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(t){g[t?"unshift":"push"]((()=>{c=t,n(2,c)}))},function(t){g[t?"unshift":"push"]((()=>{u=t,n(1,u)}))}]}return new class extends A{constructor(t){super(),W(this,t,O,N,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
